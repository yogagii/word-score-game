var Word_List = (function() {
	var publicInt = {};
	var wordBank = new Array();

	function listCheck(toCheck) {
    	toCheck = toCheck.toLowerCase();
    	var letter = toCheck.charAt(0);
	    //wordBank will be an array initialized with the full word list, indexed by letter.
	    return (wordBank[letter].indexOf(toCheck) > -1);
    	
    }
    	
    function listCheck2(toCheck) {
    	toCheck = toCheck.toLowerCase();
    	var letter = toCheck.charAt(0);
		var r = []
		if(letter!='_'){
		 	wordBank[letter].forEach(function(n){
    		 	var flag = true
    		 	for(var i = 0;i<n.length;i++){
    		 		if(toCheck[i]!='_' && n[i]!=toCheck[i]){
    		 			flag = false
    		 		}
    		 	}
    		 	if(flag){
    		 		r.push(n)
    		 	}
    		})
		}else{
		 	wordBank.forEach(function(m){
		 		m.forEach(function(n){
		 			var flag = true
	    		 	for(var i = 1;i<n.length;i++){
	    		 		if(toCheck[i]!='_' && n[i]!=toCheck[i]){
	    		 			flag = false
	    		 		}
	    		 	}
	    		 	if(flag){
	    		 		r.push(n)
	    		 	}
		 		})
		 	})
		}
		return r
    }

	function getRand(letterCount) {
		letterCount = letterCount || 0;
		if(letterCount == 0) {
			letterCount = Math.floor(Math.random() * 7) + 4;
		}
		if(letterCount < 4) {
			letterCount = 4;
		}
		if(letterCount > 10) {
			letterCount = 10;
		}
		var checkLetterNum = Math.floor(Math.random() * 26),
			checkLetter = String.fromCharCode(checkLetterNum + 97),
			wordNum, wordPick;
		do {
			wordNum = Math.floor(Math.random() * wordBank[checkLetter].length);
			wordPick = wordBank[checkLetter][wordNum];
		} while (wordPick.length != letterCount);
		return wordPick;
	}

	function loadWordDat(wordArray) {
		var character = wordArray[12].charAt(0);
		if(!character) {
			throw "Not able to get first letter from word to determine word bank.";
		}
		wordBank[character] = wordArray;
	}
	publicInt.isInList = listCheck;
	publicInt.isInList2 = listCheck2;
	publicInt.getRandomWord = getRand;
	publicInt.loadBank = loadWordDat;
	return publicInt;
}());